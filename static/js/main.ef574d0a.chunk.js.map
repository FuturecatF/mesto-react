{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardLike","onCardDelete","onCardClick","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","link","name","style","display","type","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","title","avatar","about","map","Footer","ImagePopup","onClose","api","apiOptions","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","data","body","JSON","stringify","cardId","id","authorization","PopupWithForm","children","isOpen","onSubmit","isSaving","buttonText","noValidate","disabled","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","e","preventDefault","value","onChange","target","minLength","maxLength","placeholder","required","EditAvatarPopup","onUpdateAvatar","avatarUser","useRef","current","autoComplete","ref","AddPlacePopup","image","setImage","ConfirmPopup","onConfirm","App","isEditProfilePopupOpen","setEditProfileClick","isAddPlacePopupOpen","setAddPlaceClick","isEditAvatarPopupOpen","setEditAvatarClick","isConfirmPopupOpen","setConfirmClick","selectedCard","setSelectedCard","setCurrentUser","setInitialCards","setIsSaving","deletedCard","setDeletedCard","closeAllPopups","all","getUserProfile","getInitialCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","setUserProfile","finally","postNewCard","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef574d0a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className='header'>\r\n      <img className='logo' src={logo} alt='Место' />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card({ card, onCardLike, onCardDelete, onCardClick }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardDeleteButtonClassName = `element__delete-icon ${\n    isOwn ? \"element__delete-icon\" : \"\"\n  }`;\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"\"\n  }`;\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  return (\n    <li className='element'>\n      <div onClick={handleClick}>\n        <img className='element__photo' src={card.link} alt={card.name} />\n      </div>\n      <button\n        className={cardDeleteButtonClassName}\n        style={isOwn ? {} : { display: \"none\" }}\n        type='button'\n        aria-label='Удалить'\n        onClick={handleDeleteClick}\n      ></button>\n      <div className='element__footer'>\n        <h2 className='element__subtitle'>{card.name}</h2>\n        <div className='element__likes-container'>\n          <button\n            className={cardLikeButtonClassName}\n            type='button'\n            aria-label='Лайк'\n            onClick={handleLikeClick}\n          ></button>\n          <span className='element__count-likes'>{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardLike,\r\n  onCardDelete,\r\n  onCardClick,\r\n  cards,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='content'>\r\n      <section className='profile'>\r\n        <div className='profile__avatar-container'>\r\n          <button\r\n            className='profile__avatar-change'\r\n            type='button'\r\n            title='Изменить аватар'\r\n            aria-label='Изменить аватар'\r\n            onClick={onEditAvatar}\r\n          >\r\n            <img\r\n              className='profile__avatar'\r\n              src={currentUser.avatar}\r\n              alt='Фото профиля'\r\n            />{\" \"}\r\n          </button>\r\n        </div>\r\n\r\n        <div className='profile__info'>\r\n          <h1 className='profile__title'>{currentUser.name}</h1>\r\n          <button\r\n            className='profile__edit-button'\r\n            type='button'\r\n            title='Редактировать'\r\n            aria-label='Редактировать'\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className='profile__subtitle'>{currentUser.about}</p>\r\n        </div>\r\n\r\n        <button\r\n          className='profile__add-button'\r\n          type='button'\r\n          title='Добавить карточку'\r\n          aria-label='Добавить карточку'\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className='elements'>\r\n        <ul className='elements__container'>\r\n          {cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              key={card._id}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n              onCardClick={onCardClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div\n      className={`popup popup_type_image ${card.link ? \"popup_opened\" : \"\"}`}\n    >\n      <figure className='photo'>\n        <button\n          className='popup__close'\n          type='button'\n          aria-label='Закрыть попап'\n          onClick={onClose}\n        ></button>\n        <img className='photo__item' src={card.link} alt={card.name} />\n        <figcaption className='photo__subtitle'>{card.name}</figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\r\n    constructor(apiOptions) {\r\n        this._baseUrl = apiOptions.baseUrl;\r\n        this._headers = apiOptions.headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    postNewCard(data) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    getUserProfile() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    setUserProfile(data) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if (isLiked) {\r\n            return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n                method: \"PUT\",\r\n                headers: this._headers\r\n            })\r\n                .then(this._getResponseData)\r\n        } else {\r\n            return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: this._headers\r\n            })\r\n                .then(this._getResponseData)\r\n        }\r\n    }\r\n\r\n    setUserAvatar(avatar) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(avatar)\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n    headers: {\r\n        authorization: '5f8b754d-d9bd-4968-8e18-8ef729e76020',\r\n        'content-type': 'application/json'\r\n    }\r\n});","import React from \"react\";\n\nfunction PopupWithForm({\n  children,\n  isOpen,\n  title,\n  onSubmit,\n  isSaving,\n  onClose,\n  buttonText,\n}) {\n  return (\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className='popup__container'>\n        <h2 className='popup__title'>{title}</h2>\n        <form className='popup__form' onSubmit={onSubmit} noValidate>\n          {children}\n          <button\n            className='popup__button'\n            type='submit'\n            disabled={isSaving ? true : false}\n          >\n            {\" \"}\n            {isSaving ? \"Загрузка...\" : buttonText}\n          </button>\n        </form>\n        <button\n          className='popup__close popup__close_type_edit'\n          type='button'\n          aria-label='Закрыть форму'\n          onClick={onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose, isSaving }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Редактировать профиль'\r\n      buttonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isSaving={isSaving}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n        className='popup__input popup__input_type_profile-name'\r\n        type='text'\r\n        id='profile-name'\r\n        name='name'\r\n        minLength='2'\r\n        maxLength='40'\r\n        placeholder='Имя'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='profile-name-error'></span>\r\n      </div>\r\n\r\n      <input\r\n        value={description || \"\"}\r\n        onChange={handleChangeDescription}\r\n        className='popup__input popup__input_type_profile-job'\r\n        type='text'\r\n        id='profile-job'\r\n        name='job'\r\n        minLength='2'\r\n        maxLength='200'\r\n        placeholder='О себе'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='profile-job-error'></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, isSaving, onUpdateAvatar }) {\n  const avatarUser = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarUser.current.value,\n    });\n    avatarUser.current.value = \"\";\n  }\n\n  return (\n    <PopupWithForm\n      title='Обновить аватар'\n      buttonText='Сохранить'\n      isOpen={isOpen}\n      onClose={onClose}\n      isSaving={isSaving}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className='popup__input popup__input_type_avatar-link'\n        type='url'\n        id='avatar-link'\n        name='avatar-image'\n        autoComplete='on'\n        placeholder='Ссылка на картинку'\n        ref={avatarUser}\n        required\n      />\n      <div className='popup__error-container'>\n        <span className='popup__input-error' id='avatar-link-error'></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose, isSaving }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [image, setImage] = React.useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setImage(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: name,\r\n      link: image,\r\n    });\r\n\r\n    setName(\"\");\r\n    setImage(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Новое место'\r\n      buttonText='Создать'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isSaving={isSaving}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name}\r\n        onChange={handleChangeName}\r\n        className='popup__input popup__input_type_card-name'\r\n        type='text'\r\n        id='card-name'\r\n        name='image-name'\r\n        placeholder='Название'\r\n        minLength='2'\r\n        maxLength='30'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='card-name-error'></span>\r\n      </div>\r\n      <input\r\n        value={image}\r\n        onChange={handleChangeDescription}\r\n        className='popup__input popup__input_type_card-link'\r\n        type='url'\r\n        id='card-link'\r\n        name='link'\r\n        autoComplete='on'\r\n        placeholder='Ссылка на картинку'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='card-link-error'></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmPopup({ isOpen, onClose, isSaving, onConfirm }) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onConfirm();\n  }\n\n  return (\n    <PopupWithForm\n      title='Вы уверены?'\n      buttonText='Да'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import React from \"react\";\r\nimport \"../index.css\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport { api } from \"../utils/api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmPopup from \"./ConfirmPopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfileClick] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlaceClick] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarClick] = React.useState(false);\r\n  const [isConfirmPopupOpen, setConfirmClick] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState([]);\r\n  const [cards, setInitialCards] = React.useState([]);\r\n  const [isSaving, setIsSaving] = React.useState(false);\r\n  const [deletedCard, setDeletedCard] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserProfile(), api.getInitialCards()])\r\n      .then(([data, cards]) => {\r\n        setCurrentUser(data);\r\n        setInitialCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setInitialCards((state) =>\r\n        state.map((c) => (c._id === card._id ? newCard : c))\r\n      );\r\n    });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarClick(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfileClick(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlaceClick(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfileClick(false);\r\n    setAddPlaceClick(false);\r\n    setEditAvatarClick(false);\r\n    setConfirmClick(false);\r\n    setSelectedCard({});\r\n    setDeletedCard({});\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleDeleteClick(card) {\r\n    setConfirmClick(true);\r\n    setDeletedCard(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    setIsSaving(true);\r\n\r\n    api\r\n      .deleteCard(deletedCard._id)\r\n\r\n      .then(() => {\r\n        setInitialCards((cards) =>\r\n          cards.filter((c) => c._id !== deletedCard._id)\r\n        );\r\n      })\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsSaving(true);\r\n    api\r\n      .setUserProfile(data)\r\n      .then((data) => setCurrentUser(data))\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setIsSaving(true);\r\n    api\r\n      .setUserAvatar(avatar)\r\n      .then((avatar) => setCurrentUser(avatar))\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    setIsSaving(true);\r\n    api\r\n      .postNewCard(card)\r\n      .then((card) => setInitialCards([card, ...cards]))\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  return (\r\n    <div className='page'>\r\n      <div className='page__container'>\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header />\r\n          <Main\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleDeleteClick}\r\n            onCardClick={handleCardClick}\r\n          />\r\n          <Footer />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            isSaving={isSaving}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            isSaving={isSaving}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            isSaving={isSaving}\r\n          />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n          <ConfirmPopup\r\n            isOpen={isConfirmPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onConfirm={handleCardDelete}\r\n            isSaving={isSaving}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}